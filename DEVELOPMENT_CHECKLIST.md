# 開発チェックリスト - 会員管理システム

> ⚠️ **重要**: すべての項目をチェックしてからコミット/デプロイすること

## 📋 機能実装チェックリスト

### フロントエンド実装 ✅

- [ ] **フォーム送信データの完全性**
  - [ ] 編集モードで全必須フィールドが送信データに含まれているか
  - [ ] camelCase ↔ snake_case の変換が正しく実装されているか
  - [ ] undefined/null値のハンドリングが正しいか

- [ ] **API呼び出しの一貫性**
  - [ ] GET・PUT・POST・DELETEすべてのHTTPメソッドが実装されているか
  - [ ] エラーハンドリングが実装されているか
  - [ ] ローディング状態の管理が実装されているか

- [ ] **UIコンポーネントの完全性**
  - [ ] ページネーション機能が正しく動作するか（rowCount設定確認）
  - [ ] 検索機能がすべてのフィールドで動作するか
  - [ ] 編集フォームで全フィールドが表示・編集可能か

### バックエンド実装 ✅

- [ ] **APIエンドポイントの完全性**
  - [ ] CRUD操作（Create, Read, Update, Delete）がすべて実装されているか
  - [ ] ID指定・会員番号指定の両方に対応しているか
  - [ ] 検索・ソート・ページネーション機能が実装されているか

- [ ] **データベース操作**
  - [ ] SQLクエリのタイムアウト設定が適切か（5秒推奨）
  - [ ] トランザクション処理が実装されているか
  - [ ] エラーハンドリングが適切か

- [ ] **レスポンスデータの一貫性**
  - [ ] フロントエンドが期待する全フィールドが含まれているか
  - [ ] snake_case + camelCase の両方の形式で返却しているか
  - [ ] ステータス集計が正しく計算されているか

## 🧪 テスト実行チェックリスト

### 自動テスト ✅
```bash
# APIテストスイート実行
python3 backend/test_member_api.py
```
- [ ] 全テストがPASS
- [ ] エラーメッセージが表示されていない

### 手動テスト ✅

- [ ] **会員一覧画面**
  - [ ] データが正常に表示される（45名表示確認）
  - [ ] ページネーション（1→2→3ページ）が動作する
  - [ ] 検索機能（会員番号・名前・メール）が動作する
  - [ ] ステータス別集計が正確（アクティブ44、休会中1）

- [ ] **会員編集画面**
  - [ ] 編集画面を開くと最新データが表示される
  - [ ] 全フィールド（基本情報・組織情報・銀行情報）が編集可能
  - [ ] 直上者ID/名前の修正が正しく保存・反映される
  - [ ] 保存後に編集画面を再度開くとデータが更新されている

- [ ] **データの永続化**
  - [ ] 編集したデータがブラウザリロード後も保持される
  - [ ] データベースに正しく保存されている

## 🔧 パフォーマンスチェックリスト

- [ ] **応答時間**
  - [ ] 会員一覧表示が2秒以内
  - [ ] 編集画面表示が1秒以内
  - [ ] 保存処理が3秒以内

- [ ] **サーバー安定性**
  - [ ] デバッグログが本番環境では無効になっている
  - [ ] メモリリークが発生していない
  - [ ] データベース接続が正しく開放されている

## 🚨 トラブルシューティング

### よくある問題と対処法

1. **「データが表示されない」**
   - [ ] サーバーが起動しているか確認
   - [ ] API URLが正しいか確認（port 8001）
   - [ ] データベースファイルのパスが正しいか確認

2. **「編集したデータが反映されない」**
   - [ ] フロントエンド送信データにフィールドが含まれているか確認
   - [ ] バックエンドでフィールドマッピングが正しいか確認
   - [ ] データベースのupdated_atが更新されているか確認

3. **「ページネーションが動かない」**
   - [ ] DataGridのrowCountが設定されているか確認
   - [ ] paginationMode="server"が設定されているか確認
   - [ ] paginationModelの変更がAPIに反映されているか確認

## 🔄 定期メンテナンス

### 週次チェック ✅
- [ ] 全自動テストの実行
- [ ] データベースのバックアップ
- [ ] ログファイルのローテーション

### 月次チェック ✅
- [ ] パフォーマンス測定
- [ ] セキュリティアップデート
- [ ] 不要ファイルの削除

---

## 📞 緊急時対応

**サーバーがハングした場合:**
```bash
# サーバー再起動
pkill -f uvicorn
PYTHONPATH=/Users/lennon/projects/iroas-boss-v2/backend python3 -m uvicorn main:app --host 0.0.0.0 --port 8001
```

**データが消えた場合:**
1. データベースバックアップから復旧
2. 最新のgitコミットからファイル復旧
3. 自動テストで整合性確認

---

> 💡 **開発者へのメッセージ**: 
> このチェックリストは実際に発生した問題を基に作成されています。
> 面倒でも必ず全項目をチェックしてください。それが品質向上の近道です。