<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P-009 ãƒ‡ãƒ¼ã‚¿å…¥å‡ºåŠ› - IROAS BOSS v2</title>
    
    <style>
        /* ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSå¤‰æ•° */
        :root {
            /* ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
            --primary: #1e3a8a;
            --primary-hover: #1e40af;
            --primary-light: #3b82f6;
            --secondary: #3b82f6;
            --secondary-hover: #2563eb;
            --secondary-light: #60a5fa;
            
            --background: #f1f5f9;
            --surface: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border: #cbd5e1;
            --border-light: #e2e8f0;
            
            --success: #10b981;
            --success-bg: #f0fdf4;
            --warning: #f59e0b;
            --warning-bg: #fffbeb;
            --error: #ef4444;
            --error-bg: #fef2f2;
            --info: #3b82f6;
            --info-bg: #eff6ff;
            
            /* ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚° */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            --spacing-3xl: 4rem;
            
            /* ãƒ•ã‚©ãƒ³ãƒˆ */
            --font-primary: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
            --text-3xl: 1.875rem;
            --text-2xl: 1.5rem;
            --text-xl: 1.25rem;
            --text-lg: 1.125rem;
            --text-base: 1rem;
            --text-sm: 0.875rem;
            --text-xs: 0.75rem;
            
            /* ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ */
            --transition-fast: all 0.15s ease;
            --transition-base: all 0.2s ease;
            --transition-slow: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-primary);
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        /* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }
        
        .page-header {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: var(--spacing-xl) 0;
            margin-bottom: var(--spacing-2xl);
        }
        
        .page-title {
            font-size: var(--text-3xl);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
        }
        
        .page-description {
            font-size: var(--text-lg);
            color: var(--text-secondary);
        }
        
        /* ã‚°ãƒªãƒƒãƒ‰ */
        .grid {
            display: grid;
            gap: var(--spacing-lg);
        }
        
        .grid-cols-1 { grid-template-columns: 1fr; }
        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        
        /* ã‚«ãƒ¼ãƒ‰ */
        .card {
            background: var(--surface);
            border-radius: 12px;
            border: 1px solid var(--border);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: var(--spacing-lg);
            transition: var(--transition-base);
        }
        
        .card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .card-header {
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--border-light);
        }
        
        .card-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .card-subtitle {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }
        
        /* ãƒ•ã‚©ãƒ¼ãƒ è¦ç´  */
        .form-group {
            margin-bottom: var(--spacing-lg);
        }
        
        .form-label {
            display: block;
            font-size: var(--text-sm);
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
        }
        
        .file-upload-area {
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: var(--spacing-2xl);
            text-align: center;
            background: var(--background);
            transition: var(--transition-base);
            cursor: pointer;
        }
        
        .file-upload-area:hover {
            border-color: var(--primary);
            background: var(--info-bg);
        }
        
        .file-upload-area.dragover {
            border-color: var(--primary);
            background: var(--info-bg);
        }
        
        .file-upload-icon {
            font-size: 3rem;
            color: var(--text-muted);
            margin-bottom: var(--spacing-md);
        }
        
        .file-upload-text {
            font-size: var(--text-lg);
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
        }
        
        .file-upload-hint {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }
        
        /* ãƒœã‚¿ãƒ³ */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: var(--text-base);
            cursor: pointer;
            transition: var(--transition-base);
            text-decoration: none;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(30, 58, 138, 0.25);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background: #0d9488;
        }
        
        .btn-warning {
            background: var(--warning);
            color: white;
        }
        
        .btn-warning:hover {
            background: #d97706;
        }
        
        .btn-error {
            background: var(--error);
            color: white;
        }
        
        .btn-error:hover {
            background: #dc2626;
        }
        
        /* ã‚¢ãƒ©ãƒ¼ãƒˆ */
        .alert {
            padding: var(--spacing-md);
            border-radius: 8px;
            margin-bottom: var(--spacing-md);
            font-size: var(--text-sm);
        }
        
        .alert-info {
            background: var(--info-bg);
            color: var(--info);
            border: 1px solid var(--info);
        }
        
        .alert-success {
            background: var(--success-bg);
            color: var(--success);
            border: 1px solid var(--success);
        }
        
        .alert-warning {
            background: var(--warning-bg);
            color: var(--warning);
            border: 1px solid var(--warning);
        }
        
        .alert-error {
            background: var(--error-bg);
            color: var(--error);
            border: 1px solid var(--error);
        }
        
        /* ãƒ†ãƒ¼ãƒ–ãƒ« */
        .table-wrapper {
            overflow-x: auto;
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            background: var(--surface);
        }
        
        .table th,
        .table td {
            padding: var(--spacing-md);
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }
        
        .table th {
            background: var(--background);
            font-weight: 600;
            color: var(--text-primary);
            position: sticky;
            top: 0;
        }
        
        .table td {
            color: var(--text-secondary);
        }
        
        .table tr:last-child td {
            border-bottom: none;
        }
        
        .table tr:hover {
            background: var(--border-light);
        }
        
        /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: var(--text-xs);
            font-weight: 500;
        }
        
        .status-success {
            background: var(--success-bg);
            color: var(--success);
        }
        
        .status-warning {
            background: var(--warning-bg);
            color: var(--warning);
        }
        
        .status-error {
            background: var(--error-bg);
            color: var(--error);
        }
        
        /* ã‚¢ã‚¤ã‚³ãƒ³ */
        .icon {
            width: 1.2em;
            height: 1.2em;
            fill: currentColor;
        }
        
        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress {
            background: var(--border-light);
            border-radius: 8px;
            height: 8px;
            overflow: hidden;
            margin: var(--spacing-sm) 0;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--primary);
            transition: width 0.3s ease;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .grid-cols-2,
            .grid-cols-3 {
                grid-template-columns: 1fr;
            }
            
            .page-title {
                font-size: var(--text-2xl);
            }
            
            .card {
                padding: var(--spacing-md);
            }
        }
    </style>
</head>
<body>
    <div class="page-header">
        <div class="container">
            <h1 class="page-title">ãƒ‡ãƒ¼ã‚¿å…¥å‡ºåŠ›</h1>
            <p class="page-description">åˆæœŸãƒ‡ãƒ¼ã‚¿ç§»è¡Œã€ã‚·ã‚¹ãƒ†ãƒ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒªã‚¹ãƒˆã‚¢ç®¡ç†</p>
        </div>
    </div>

    <div class="container">
        <div class="grid grid-cols-1">
            <!-- æ©Ÿèƒ½èª¬æ˜ -->
            <div class="alert alert-info">
                <strong>ä¸»è¦æ©Ÿèƒ½ï¼š</strong>
                Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰ã®ä¼šå“¡ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ—¥æ¬¡è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®ãƒªã‚¹ãƒˆã‚¢æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚
            </div>
            
            <div class="grid grid-cols-2">
                <!-- ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                            ä¼šå“¡ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
                        </h2>
                        <p class="card-subtitle">Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå½¢å¼ã®ä¼šå“¡ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ‹¬ç™»éŒ²</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">CSVãƒ•ã‚¡ã‚¤ãƒ«é¸æŠï¼ˆUTF-8 ã¾ãŸã¯ Shift-JISï¼‰</label>
                        <div class="file-upload-area" id="importUpload">
                            <div class="file-upload-icon">ğŸ“Š</div>
                            <div class="file-upload-text">ã“ã“ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ</div>
                            <div class="file-upload-hint">å¯¾å¿œå½¢å¼: CSV (.csv) æœ€å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 10MB</div>
                        </div>
                    </div>
                    
                    <div class="alert alert-warning" style="margin-bottom: var(--spacing-lg);">
                        <strong>æ³¨æ„ï¼š</strong>ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‰ã«æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æ¨å¥¨ã—ã¾ã™ã€‚é‡è¤‡ã™ã‚‹ä¼šå“¡ç•ªå·ãŒã‚ã‚‹å ´åˆã¯ä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚
                    </div>
                    
                    <div class="form-group">
                        <button class="btn btn-primary" id="startImport" disabled>
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M14,12L10,8V11H2V13H10V16M20,18V6C20,4.89 19.1,4 18,4H6A2,2 0 0,0 4,6V9H6V6H18V18H6V15H4V18A2,2 0 0,0 6,20H18C19.1,20 20,19.1 20,18Z"/>
                            </svg>
                            ã‚¤ãƒ³ãƒãƒ¼ãƒˆé–‹å§‹
                        </button>
                    </div>
                    
                    <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºï¼ˆé€šå¸¸ã¯éè¡¨ç¤ºï¼‰ -->
                    <div id="importProgress" style="display: none;">
                        <div class="progress">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                        <p style="font-size: var(--text-sm); color: var(--text-muted); text-align: center;">
                            å‡¦ç†ä¸­... <span id="importProgressText">0/0</span>
                        </p>
                    </div>
                </div>

                <!-- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç®¡ç† -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"/>
                            </svg>
                            ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
                        </h2>
                        <p class="card-subtitle">ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®å®‰å…¨ãªä¿è­·ãƒ»å¾©å…ƒ</p>
                    </div>
                    
                    <div class="alert alert-info" style="margin-bottom: var(--spacing-lg);">
                        <strong>è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼š</strong>æ¯æ—¥ 03:00 ã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚éå»30æ—¥åˆ†ã‚’ä¿æŒã€‚
                    </div>
                    
                    <div class="form-group">
                        <button class="btn btn-success" id="createBackup">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                            æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
                        </button>
                    </div>
                    
                    <!-- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—é€²è¡ŒçŠ¶æ³ï¼ˆé€šå¸¸ã¯éè¡¨ç¤ºï¼‰ -->
                    <div id="backupProgress" style="display: none;">
                        <div class="progress">
                            <div class="progress-bar" style="width: 0%"></div>
                        </div>
                        <p style="font-size: var(--text-sm); color: var(--text-muted); text-align: center;">
                            ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆä¸­...
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <svg class="icon" viewBox="0 0 24 24">
                            <path d="M12,2L2,7V10C2,16.11 6.69,21.42 12,23C17.31,21.42 22,16.11 22,10V7L12,2M12,4.32L20,8.27V10C20,15.24 16.39,19.81 12,21.24C7.61,19.81 4,15.24 4,10V8.27L12,4.32Z"/>
                        </svg>
                        ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å±¥æ­´
                    </h2>
                    <p class="card-subtitle">ä½œæˆæ¸ˆã¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ç®¡ç†ãƒ»ãƒªã‚¹ãƒˆã‚¢</p>
                </div>
                
                <div class="table-wrapper">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ä½œæˆæ—¥æ™‚</th>
                                <th>ã‚¿ã‚¤ãƒ—</th>
                                <th>ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º</th>
                                <th>ãƒ‡ãƒ¼ã‚¿ä»¶æ•°</th>
                                <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2024-08-26 03:00:15</td>
                                <td>è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</td>
                                <td>2.3MB</td>
                                <td>
                                    ä¼šå“¡: 50ä»¶<br>
                                    æ±ºæ¸ˆå±¥æ­´: 1,245ä»¶<br>
                                    å ±é…¬è¨ˆç®—: 312ä»¶
                                </td>
                                <td><span class="status-badge status-success">å®Œäº†</span></td>
                                <td>
                                    <button class="btn btn-warning" onclick="confirmRestore('backup_20240826_030015')">
                                        <svg class="icon" viewBox="0 0 24 24">
                                            <path d="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19V21A9,9 0 0,0 21,12A9,9 0 0,0 12,3Z"/>
                                        </svg>
                                        ãƒªã‚¹ãƒˆã‚¢
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>2024-08-25 15:23:42</td>
                                <td>æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</td>
                                <td>2.2MB</td>
                                <td>
                                    ä¼šå“¡: 50ä»¶<br>
                                    æ±ºæ¸ˆå±¥æ­´: 1,198ä»¶<br>
                                    å ±é…¬è¨ˆç®—: 298ä»¶
                                </td>
                                <td><span class="status-badge status-success">å®Œäº†</span></td>
                                <td>
                                    <button class="btn btn-warning" onclick="confirmRestore('backup_20240825_152342')">
                                        <svg class="icon" viewBox="0 0 24 24">
                                            <path d="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19V21A9,9 0 0,0 21,12A9,9 0 0,0 12,3Z"/>
                                        </svg>
                                        ãƒªã‚¹ãƒˆã‚¢
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>2024-08-25 03:00:11</td>
                                <td>è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</td>
                                <td>2.1MB</td>
                                <td>
                                    ä¼šå“¡: 50ä»¶<br>
                                    æ±ºæ¸ˆå±¥æ­´: 1,156ä»¶<br>
                                    å ±é…¬è¨ˆç®—: 287ä»¶
                                </td>
                                <td><span class="status-badge status-success">å®Œäº†</span></td>
                                <td>
                                    <button class="btn btn-warning" onclick="confirmRestore('backup_20240825_030011')">
                                        <svg class="icon" viewBox="0 0 24 24">
                                            <path d="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19V21A9,9 0 0,0 21,12A9,9 0 0,0 12,3Z"/>
                                        </svg>
                                        ãƒªã‚¹ãƒˆã‚¢
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>2024-08-24 03:00:08</td>
                                <td>è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</td>
                                <td>2.0MB</td>
                                <td>
                                    ä¼šå“¡: 49ä»¶<br>
                                    æ±ºæ¸ˆå±¥æ­´: 1,089ä»¶<br>
                                    å ±é…¬è¨ˆç®—: 268ä»¶
                                </td>
                                <td><span class="status-badge status-success">å®Œäº†</span></td>
                                <td>
                                    <button class="btn btn-warning" onclick="confirmRestore('backup_20240824_030008')">
                                        <svg class="icon" viewBox="0 0 24 24">
                                            <path d="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19V21A9,9 0 0,0 21,12A9,9 0 0,0 12,3Z"/>
                                        </svg>
                                        ãƒªã‚¹ãƒˆã‚¢
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="confirmModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div style="background: var(--surface); padding: var(--spacing-2xl); border-radius: 12px; max-width: 500px; width: 90%;">
            <h3 style="margin-bottom: var(--spacing-lg); color: var(--text-primary);">ãƒªã‚¹ãƒˆã‚¢ç¢ºèª</h3>
            <div class="alert alert-warning" style="margin-bottom: var(--spacing-lg);">
                <strong>æ³¨æ„ï¼š</strong>ã“ã®æ“ä½œã«ã‚ˆã‚Šç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã¯å®Œå…¨ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã—ã§ãã¾ã›ã‚“ã€‚
            </div>
            <p style="margin-bottom: var(--spacing-xl); color: var(--text-secondary);">
                é¸æŠã•ã‚ŒãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: <strong id="selectedBackup"></strong><br>
                æœ¬å½“ã«ãƒªã‚¹ãƒˆã‚¢ã‚’å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ
            </p>
            <div style="display: flex; gap: var(--spacing-md); justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                <button class="btn btn-error" onclick="executeRestore()">ãƒªã‚¹ãƒˆã‚¢å®Ÿè¡Œ</button>
            </div>
        </div>
    </div>

    <!-- æˆåŠŸãƒ»ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºç”¨ -->
    <div id="messageArea" style="position: fixed; top: 20px; right: 20px; z-index: 1001; max-width: 400px;"></div>

    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let selectedFile = null;
        let currentBackupId = null;

        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†
        const uploadArea = document.getElementById('importUpload');
        const startImportBtn = document.getElementById('startImport');

        uploadArea.addEventListener('click', () => {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.csv';
            input.onchange = handleFileSelect;
            input.click();
        });

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            handleFileSelect({ target: { files: e.dataTransfer.files } });
        });

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file && file.name.endsWith('.csv')) {
                selectedFile = file;
                uploadArea.innerHTML = `
                    <div class="file-upload-icon">âœ…</div>
                    <div class="file-upload-text">é¸æŠã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«: ${file.name}</div>
                    <div class="file-upload-hint">ã‚µã‚¤ã‚º: ${(file.size / 1024).toFixed(1)}KB</div>
                `;
                startImportBtn.disabled = false;
            } else {
                showMessage('CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚', 'error');
            }
        }

        // ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Ÿè¡Œ
        startImportBtn.addEventListener('click', async () => {
            if (!selectedFile) return;

            startImportBtn.disabled = true;
            document.getElementById('importProgress').style.display = 'block';
            
            try {
                // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ FormData ã‚’ä½¿ç”¨ã—ã¦ API ã«é€ä¿¡
                const formData = new FormData();
                formData.append('file', selectedFile);
                
                // ãƒ¢ãƒƒã‚¯å®Ÿè¡Œï¼ˆå®Ÿéš›ã¯APIã‚³ãƒ¼ãƒ«ï¼‰
                await simulateImport();
                
                showMessage('ä¼šå“¡ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸã€‚', 'success');
                resetImportForm();
            } catch (error) {
                showMessage('ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸï¼š' + error.message, 'error');
            } finally {
                startImportBtn.disabled = false;
                document.getElementById('importProgress').style.display = 'none';
            }
        });

        // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
        document.getElementById('createBackup').addEventListener('click', async () => {
            const btn = document.getElementById('createBackup');
            btn.disabled = true;
            document.getElementById('backupProgress').style.display = 'block';
            
            try {
                // ãƒ¢ãƒƒã‚¯å®Ÿè¡Œï¼ˆå®Ÿéš›ã¯APIã‚³ãƒ¼ãƒ«ï¼‰
                await simulateBackup();
                showMessage('æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸã€‚', 'success');
                
                // ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ›´æ–°ï¼ˆå®Ÿéš›ã¯APIã‹ã‚‰æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼‰
                updateBackupTable();
            } catch (error) {
                showMessage('ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸï¼š' + error.message, 'error');
            } finally {
                btn.disabled = false;
                document.getElementById('backupProgress').style.display = 'none';
            }
        });

        // ãƒªã‚¹ãƒˆã‚¢ç¢ºèª
        function confirmRestore(backupId) {
            currentBackupId = backupId;
            document.getElementById('selectedBackup').textContent = backupId;
            const modal = document.getElementById('confirmModal');
            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('confirmModal').style.display = 'none';
            currentBackupId = null;
        }

        // ãƒªã‚¹ãƒˆã‚¢å®Ÿè¡Œ
        async function executeRestore() {
            if (!currentBackupId) return;
            
            closeModal();
            
            try {
                // ãƒ¢ãƒƒã‚¯å®Ÿè¡Œï¼ˆå®Ÿéš›ã¯APIã‚³ãƒ¼ãƒ«ï¼‰
                await simulateRestore(currentBackupId);
                showMessage('ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆã‚¢ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚', 'success');
            } catch (error) {
                showMessage('ãƒªã‚¹ãƒˆã‚¢å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸï¼š' + error.message, 'error');
            }
        }

        // ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
        function showMessage(message, type) {
            const messageArea = document.getElementById('messageArea');
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            messageArea.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }

        function resetImportForm() {
            selectedFile = null;
            uploadArea.innerHTML = `
                <div class="file-upload-icon">ğŸ“Š</div>
                <div class="file-upload-text">ã“ã“ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ</div>
                <div class="file-upload-hint">å¯¾å¿œå½¢å¼: CSV (.csv) æœ€å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 10MB</div>
            `;
            startImportBtn.disabled = true;
        }

        // ãƒ¢ãƒƒã‚¯é–¢æ•°ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯å‰Šé™¤ï¼‰
        async function simulateImport() {
            const progressBar = document.querySelector('#importProgress .progress-bar');
            const progressText = document.getElementById('importProgressText');
            
            for (let i = 0; i <= 100; i += 10) {
                progressBar.style.width = i + '%';
                progressText.textContent = `${Math.floor(i/10)}/10 ãƒ¬ã‚³ãƒ¼ãƒ‰å‡¦ç†ä¸­`;
                await new Promise(resolve => setTimeout(resolve, 200));
            }
        }

        async function simulateBackup() {
            const progressBar = document.querySelector('#backupProgress .progress-bar');
            
            for (let i = 0; i <= 100; i += 20) {
                progressBar.style.width = i + '%';
                await new Promise(resolve => setTimeout(resolve, 300));
            }
        }

        async function simulateRestore(backupId) {
            // å®Ÿéš›ã®å‡¦ç†ã§ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã“ã¨ã‚’ç¤ºã™ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºç­‰
            await new Promise(resolve => setTimeout(resolve, 2000));
        }

        function updateBackupTable() {
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ API ã‹ã‚‰æœ€æ–°ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§ã‚’å–å¾—ã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ›´æ–°
            console.log('Updating backup table...');
        }
    </script>

    <!-- 
    ã€CF_06å¼•ãç¶™ãæƒ…å ±ã€‘
    UIè¦ä»¶: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆãƒ»ãƒªã‚¹ãƒˆã‚¢æ“ä½œ
    
    å¿…è¦API:
    - POST /api/data/import/members
      å…¥åŠ›ãƒ‡ãƒ¼ã‚¿: { file: File (multipart/form-data) }
      å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿: { success: boolean, imported_count: number, errors: string[] }
      UIæ–‡è„ˆ: ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠâ†’ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºâ†’çµæœè¡¨ç¤º
    
    - POST /api/data/backup  
      å…¥åŠ›ãƒ‡ãƒ¼ã‚¿: {}
      å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿: { id: number, filename: string, size: number, created_at: string }
      UIæ–‡è„ˆ: ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯â†’ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºâ†’å®Œäº†é€šçŸ¥
    
    - GET /api/data/backups
      å…¥åŠ›ãƒ‡ãƒ¼ã‚¿: {}
      å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿: { backups: Array<{id, filename, size, type, created_at, status}> }
      UIæ–‡è„ˆ: ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆå¾Œã®ä¸€è¦§æ›´æ–°
    
    - POST /api/data/restore/{backup_id}
      å…¥åŠ›ãƒ‡ãƒ¼ã‚¿: { backup_id: number }
      å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿: { success: boolean, restored_count: object }
      UIæ–‡è„ˆ: ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«â†’å®Ÿè¡Œâ†’å®Œäº†/ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
    
    ç‰¹è¨˜äº‹é …:
    - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯multipart/form-dataå½¢å¼
    - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒªã‚¹ãƒˆã‚¢å‡¦ç†ã¯éåŒæœŸã§æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§
    - ãƒªã‚¹ãƒˆã‚¢ã¯å±é™ºãªæ“ä½œã®ãŸã‚ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«å¿…é ˆ
    - CSVå½¢å¼ã¯Shift-JISå¯¾å¿œãŒå¿…è¦
    - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºã§ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š
    -->
</body>
</html>